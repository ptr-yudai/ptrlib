"""Linux file and filesystem-related constants.

Examples:
    from ptrlib.os.linux import consts
    consts.O_RDONLY
    consts.S_IFREG
"""

# open(2) flags
O_ACCMODE = 0o3
O_RDONLY = 0o0
O_WRONLY = 0o1
O_RDWR = 0o2
O_CREAT = 0o100
O_EXCL = 0o200
O_NOCTTY = 0o400
O_TRUNC = 0o1000
O_APPEND = 0o2000
O_NONBLOCK = 0o4000
O_DSYNC = 0o10000
FASYNC = 0o20000
O_DIRECT = 0o40000
O_LARGEFILE = 0o100000
O_DIRECTORY = 0o200000
O_NOFOLLOW = 0o400000
O_NOATIME = 0o1000000
O_CLOEXEC = 0o2000000
O_SYNC = 0o4010000
O_PATH = 0o10000000
__O_TMPFILE = 0o20000000
O_TMPFILE = 0o20200000
O_NDELAY = 0o4000

# fcntl(2) commands
F_DUPFD = 0
F_GETFD = 1
F_SETFD = 2
F_GETFL = 3
F_SETFL = 4
F_GETLK = 5
F_SETLK = 6
F_SETLKW = 7
F_SETOWN = 8
F_GETOWN = 9
F_SETSIG = 10
F_GETSIG = 11
F_GETLK64 = 12
F_SETLK64 = 13
F_SETLKW64 = 14
F_SETOWN_EX = 15
F_GETOWN_EX = 16
F_GETOWNER_UIDS = 17
F_OFD_GETLK = 36
F_OFD_SETLK = 37
F_OFD_SETLKW = 38

F_OWNER_TID = 0
F_OWNER_PID = 1
F_OWNER_PGRP = 2

FD_CLOEXEC = 1

F_RDLCK = 0
F_WRLCK = 1
F_UNLCK = 2
F_EXLCK = 4
F_SHLCK = 8

LOCK_SH = 1
LOCK_EX = 2
LOCK_NB = 4
LOCK_UN = 8
LOCK_MAND = 32
LOCK_READ = 64
LOCK_WRITE = 128
LOCK_RW = 192

F_LINUX_SPECIFIC_BASE = 1024
F_SETLEASE = 1024
F_GETLEASE = 1025
F_NOTIFY = 1026
F_CANCELLK = 1029
F_DUPFD_CLOEXEC = 1030
F_SETPIPE_SZ = 1031
F_GETPIPE_SZ = 1032
F_ADD_SEALS = 1033
F_GET_SEALS = 1034
F_GET_RW_HINT = 1035
F_SET_RW_HINT = 1036
F_GET_FILE_RW_HINT = 1037
F_SET_FILE_RW_HINT = 1038

F_SEAL_SEAL = 0x0001
F_SEAL_SHRINK = 0x0002
F_SEAL_GROW = 0x0004
F_SEAL_WRITE = 0x0008
F_SEAL_FUTURE_WRITE = 0x0010
F_SEAL_EXEC = 0x0020

RWH_WRITE_LIFE_NOT_SET = 0
RWH_WRITE_LIFE_NONE = 1
RWH_WRITE_LIFE_SHORT = 2
RWH_WRITE_LIFE_MEDIUM = 3
RWH_WRITE_LIFE_LONG = 4
RWH_WRITE_LIFE_EXTREME = 5
RWF_WRITE_LIFE_NOT_SET = 0

DN_ACCESS = 0x00000001
DN_MODIFY = 0x00000002
DN_CREATE = 0x00000004
DN_DELETE = 0x00000008
DN_RENAME = 0x00000010
DN_ATTRIB = 0x00000020
DN_MULTISHOT = 0x80000000

AT_FDCWD = -100
AT_SYMLINK_NOFOLLOW = 0x100
AT_EACCESS = 0x200
AT_REMOVEDIR = 0x200
AT_SYMLINK_FOLLOW = 0x400
AT_NO_AUTOMOUNT = 0x800
AT_EMPTY_PATH = 0x1000
AT_STATX_SYNC_TYPE = 0x6000
AT_STATX_SYNC_AS_STAT = 0x0000
AT_STATX_FORCE_SYNC = 0x2000
AT_STATX_DONT_SYNC = 0x4000
AT_RECURSIVE = 0x8000
AT_HANDLE_FID = 0x200

# file type and mode bits
S_IFMT = 0o170000
S_IFSOCK = 0o140000
S_IFLNK = 0o120000
S_IFREG = 0o100000
S_IFBLK = 0o060000
S_IFDIR = 0o040000
S_IFCHR = 0o020000
S_IFIFO = 0o010000
S_ISUID = 0o4000
S_ISGID = 0o2000
S_ISVTX = 0o1000

S_IRWXU = 0o700
S_IRUSR = 0o400
S_IWUSR = 0o200
S_IXUSR = 0o100
S_IRWXG = 0o070
S_IRGRP = 0o040
S_IWGRP = 0o020
S_IXGRP = 0o010
S_IRWXO = 0o007
S_IROTH = 0o004
S_IWOTH = 0o002
S_IXOTH = 0o001

# statx flags
STATX_TYPE = 0x00000001
STATX_MODE = 0x00000002
STATX_NLINK = 0x00000004
STATX_UID = 0x00000008
STATX_GID = 0x00000010
STATX_ATIME = 0x00000020
STATX_MTIME = 0x00000040
STATX_CTIME = 0x00000080
STATX_INO = 0x00000100
STATX_SIZE = 0x00000200
STATX_BLOCKS = 0x00000400
STATX_BASIC_STATS = 0x000007ff
STATX_BTIME = 0x00000800
STATX_MNT_ID = 0x00001000
STATX_DIOALIGN = 0x00002000
STATX_MNT_ID_UNIQUE = 0x00004000
STATX__RESERVED = 0x80000000
STATX_ALL = 0x00000fff

STATX_ATTR_COMPRESSED = 0x00000004
STATX_ATTR_IMMUTABLE = 0x00000010
STATX_ATTR_APPEND = 0x00000020
STATX_ATTR_NODUMP = 0x00000040
STATX_ATTR_ENCRYPTED = 0x00000800
STATX_ATTR_AUTOMOUNT = 0x00001000
STATX_ATTR_MOUNT_ROOT = 0x00002000
STATX_ATTR_VERITY = 0x00100000
STATX_ATTR_DAX = 0x00200000

__all__ = [name for name in globals() if name.isupper()]
