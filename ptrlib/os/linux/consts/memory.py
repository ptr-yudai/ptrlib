"""Linux memory management constants.

Examples:
    from ptrlib.os.linux import consts
    consts.MAP_PRIVATE
    consts.PROT_READ | consts.PROT_WRITE
"""

# mmap/mprotect protection flags
PROT_READ = 0x1
PROT_WRITE = 0x2
PROT_EXEC = 0x4
PROT_SEM = 0x8
PROT_NONE = 0x0
PROT_GROWSDOWN = 0x01000000
PROT_GROWSUP = 0x02000000

# mmap flags
MAP_TYPE = 0x0f
MAP_FIXED = 0x10
MAP_ANONYMOUS = 0x20
MAP_POPULATE = 0x008000
MAP_NONBLOCK = 0x010000
MAP_STACK = 0x020000
MAP_HUGETLB = 0x040000
MAP_SYNC = 0x080000
MAP_FIXED_NOREPLACE = 0x100000
MAP_UNINITIALIZED = 0x4000000
MAP_FILE = 0x0

MAP_GROWSDOWN = 0x0100
MAP_DENYWRITE = 0x0800
MAP_EXECUTABLE = 0x1000
MAP_LOCKED = 0x2000
MAP_NORESERVE = 0x4000

MAP_SHARED = 0x01
MAP_PRIVATE = 0x02
MAP_SHARED_VALIDATE = 0x03

# Huge page encoding (bits 26..31)
MAP_HUGE_SHIFT = 26
MAP_HUGE_MASK = 0x3f
MAP_HUGE_16KB = 0x38000000
MAP_HUGE_64KB = 0x40000000
MAP_HUGE_512KB = 0x4c000000
MAP_HUGE_1MB = 0x50000000
MAP_HUGE_2MB = 0x54000000
MAP_HUGE_8MB = 0x5c000000
MAP_HUGE_16MB = 0x60000000
MAP_HUGE_32MB = 0x64000000
MAP_HUGE_256MB = 0x70000000
MAP_HUGE_512MB = 0x74000000
MAP_HUGE_1GB = 0x78000000
MAP_HUGE_2GB = 0x7c000000
MAP_HUGE_16GB = 0x88000000

# mremap
MREMAP_MAYMOVE = 1
MREMAP_FIXED = 2
MREMAP_DONTUNMAP = 4

# overcommit
OVERCOMMIT_GUESS = 0
OVERCOMMIT_ALWAYS = 1
OVERCOMMIT_NEVER = 2

# mlock
MLOCK_ONFAULT = 0x01
MCL_CURRENT = 1
MCL_FUTURE = 2
MCL_ONFAULT = 4

# msync
MS_ASYNC = 1
MS_INVALIDATE = 2
MS_SYNC = 4

# madvise
MADV_NORMAL = 0
MADV_RANDOM = 1
MADV_SEQUENTIAL = 2
MADV_WILLNEED = 3
MADV_DONTNEED = 4
MADV_FREE = 8
MADV_REMOVE = 9
MADV_DONTFORK = 10
MADV_DOFORK = 11
MADV_MERGEABLE = 12
MADV_UNMERGEABLE = 13
MADV_HUGEPAGE = 14
MADV_NOHUGEPAGE = 15
MADV_DONTDUMP = 16
MADV_DODUMP = 17
MADV_WIPEONFORK = 18
MADV_KEEPONFORK = 19
MADV_COLD = 20
MADV_PAGEOUT = 21
MADV_POPULATE_READ = 22
MADV_POPULATE_WRITE = 23
MADV_DONTNEED_LOCKED = 24
MADV_COLLAPSE = 25
MADV_HWPOISON = 100
MADV_SOFT_OFFLINE = 101

# memory protection keys
PKEY_DISABLE_ACCESS = 0x1
PKEY_DISABLE_WRITE = 0x2
PKEY_ACCESS_MASK = 0x3

__all__ = [name for name in globals() if name.isupper()]
